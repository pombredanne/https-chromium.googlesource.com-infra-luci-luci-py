{
  "comments": [
    {
      "key": {
        "uuid": "79fc6f33_bafbb847",
        "filename": "appengine/swarming/swarming_bot/bot_code/bot_main_test.py",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-02-16T15:53:30Z",
      "side": 1,
      "message": "remove",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c9af4eb_e562ded2",
        "filename": "appengine/swarming/swarming_bot/bot_code/bot_main_test.py",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1228540
      },
      "writtenOn": "2018-02-21T00:10:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79fc6f33_bafbb847",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a02c9605_c5e54abb",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-02-16T15:53:30Z",
      "side": 1,
      "message": "This document is not public, it\u0027d be nice to have a short explanation inline or in doc/.",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0eb0b0e_e527ae78",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1228540
      },
      "writtenOn": "2018-02-19T02:29:16Z",
      "side": 1,
      "message": "Copied the relevant part inline.",
      "parentUuid": "a02c9605_c5e54abb",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0605ad1_20926aec",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-02-16T15:53:30Z",
      "side": 1,
      "message": "Why change the cookie every single day? To an extent, using the bot id as is would be sufficient?",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dc24945_748cd6ba",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1228540
      },
      "writtenOn": "2018-02-19T02:29:16Z",
      "side": 1,
      "message": "This is answered in the comment I\u0027ve added: if that\u0027s not sufficient, let me know. :)",
      "parentUuid": "a0605ad1_20926aec",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c1e377e_afda3a42",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-02-16T15:53:30Z",
      "side": 1,
      "message": "I\u0027d say to just take the last 4 hex digits and that\u0027s it?",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f84eaf8_0c902e20",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1228540
      },
      "writtenOn": "2018-02-19T02:29:16Z",
      "side": 1,
      "message": "Just taking four hex digits gives a value in the range 0-65535, so I\u0027m guessing you meant:\n\ngoogappuid \u003d int(hashlib.sha1(s).hexdigest()[-4:], 16) % 1000\n\nI considered that, but there\u0027s no significant improvement in performance or functionality,\nso I didn\u0027t think it was worth doing.",
      "parentUuid": "0c1e377e_afda3a42",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d6c23c1_5a46edb4",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-02-16T15:53:30Z",
      "side": 1,
      "message": "I\u0027m leaning towards making the cookie to be a property of the instance, so that a user doesn\u0027t has to pass bot_id continuously. This would permit removing the parameter at post_task_update() too. So basically;\n\n- Add a method set_bot_id()\n- Call it at instantiation with a default value.\n- Call after each get_dimensions() in bot_main (necessary until https://crbug.com/786735 is implemented)\n\nThat would make usage simpler, wdyt?",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a7af9e3_76f61a99",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1228540
      },
      "writtenOn": "2018-02-19T02:29:16Z",
      "side": 1,
      "message": "I agree that passing bot_id everywhere is annoying.\n\nI\u0027m not a huge fan of that design: there are then two places where bot_id is stored.\nI was wondering if it would be reasonable to establish a 1:1 relationship between a\nbot and the remote client, so then the remote client could use self.bot.id?",
      "parentUuid": "8d6c23c1_5a46edb4",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bb15b32_85824e59",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-02-19T13:44:30Z",
      "side": 1,
      "message": "The main challenge here is that it would be a circular reference. But if we use something different than bot id as I note above, it becomes a non-issue.",
      "parentUuid": "1a7af9e3_76f61a99",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0c9fe3f_69da28f3",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1228540
      },
      "writtenOn": "2018-02-21T00:10:17Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8bb15b32_85824e59",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e774b65d_d1d41d80",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 279,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-02-16T15:53:30Z",
      "side": 1,
      "message": "You can use attributes[\u0027dimensions\u0027][\u0027id\u0027][0] here, which is reduce the amount of refactoring needed. It\u0027s a bit clunky semantically but it\u0027s a design I\u0027m thinking of revisiting as part of https://crbug.com/786735.",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04662f10_daf20058",
        "filename": "appengine/swarming/swarming_bot/bot_code/remote_client.py",
        "patchSetId": 2
      },
      "lineNbr": 279,
      "author": {
        "id": 1228540
      },
      "writtenOn": "2018-02-19T02:29:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e774b65d_d1d41d80",
      "revId": "c5d9628a8bf955855917722c9ace9e863e8adc56",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}