{
  "comments": [
    {
      "key": {
        "uuid": "fe852ecf_95226618",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx.py",
        "patchSetId": 5
      },
      "lineNbr": 731,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-11-14T01:35:43Z",
      "side": 1,
      "message": "The test failed here.\n\nhttps://logs.chromium.org/logs/infra/buildbucket/cr-buildbucket.appspot.com/8896855071021837776/+/steps/swarming_bot/0/steps/run_tests_python2/0/stdout#L11355_0",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2f7990e_d423726c",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx.py",
        "patchSetId": 5
      },
      "lineNbr": 731,
      "author": {
        "id": 1338159
      },
      "writtenOn": "2019-11-14T21:24:39Z",
      "side": 1,
      "message": "I re-ran the build and it looks like the mock is not working as expected: https://logs.chromium.org/logs/infra/led/hypan_google.com/bfbe0a158e82b2be01d3ad3f8f430af871f980f66745046edf908f4e22f2ef30/+/steps/swarming_bot/0/steps/run_tests_python2/0/stdout\n\nThe output is showing the value from the test machine, instead of the mocked one.\n\nHowever, all tests pass in my local macbook.\nDo you know why it is so?",
      "parentUuid": "fe852ecf_95226618",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "074762dc_023ec3ba",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx.py",
        "patchSetId": 5
      },
      "lineNbr": 731,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-11-15T02:37:56Z",
      "side": 1,
      "message": "It\u0027s a cache problem that I have encountered many times...\n\n\nYou may reproduce the error by run all tests like \n\n```\n./test.py -v -A \u0027!no_run\u0027\n```\n\nTo avoid the issue, clearing cache before or after each test may help using `tools.clear_cache(get_ssd)`\nhttps://cs.chromium.org/chromium/infra/luci/client/utils/tools.py?q\u003dtools.py\u0026sq\u003dpackage:chromium\u0026g\u003d0\u0026l\u003d216",
      "parentUuid": "e2f7990e_d423726c",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77ecf173_e0641f40",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx.py",
        "patchSetId": 5
      },
      "lineNbr": 731,
      "author": {
        "id": 1338159
      },
      "writtenOn": "2019-11-27T00:37:37Z",
      "side": 1,
      "message": "Added tools.clear_cache to the test file.\n\nI thought using the following should disable the cache feature. But somehow it does not work:\n```\nfrom utils import tools\ntools.cached \u003d lambda func: func\n```",
      "parentUuid": "074762dc_023ec3ba",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13116ac5_398b1daa",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx_test.py",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-11-14T01:40:46Z",
      "side": 1,
      "message": "Can we import this only when sys.platform \u003d\u003d \"darwin\" instead?",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "524168a4_b3cd917d",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx_test.py",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1338159
      },
      "writtenOn": "2019-11-14T21:24:39Z",
      "side": 1,
      "message": "I checked with Junji earlier and he prefers using @unittest.skipUnless since it will show the skipped tests in the output.",
      "parentUuid": "13116ac5_398b1daa",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14803e2b_f7dfb239",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx_test.py",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-11-15T02:37:56Z",
      "side": 1,
      "message": "I think Takuto is proposing not to import osx which is also nice to have here.",
      "parentUuid": "524168a4_b3cd917d",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba892f6f_4655f01f",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx_test.py",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-11-15T02:40:04Z",
      "side": 1,
      "message": "I want to keep initializing iokit/libkern when importing osx.py",
      "parentUuid": "14803e2b_f7dfb239",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c01dbf00_6e2e90f6",
        "filename": "appengine/swarming/swarming_bot/api/platforms/osx_test.py",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1338159
      },
      "writtenOn": "2019-11-27T00:37:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba892f6f_4655f01f",
      "revId": "f420fa75192dec736b89548dce0775a8e6ca90da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}