{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d09e3ab4_e071a882",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 4
      },
      "lineNbr": 1307,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-06-08T08:26:53Z",
      "side": 1,
      "message": "I think task slice expiration can be delayed due to Datastore or some other reasons.\n\nSo this max_lifetime_secs calculation isn\u0027t reliable?",
      "range": {
        "startLine": 1307,
        "startChar": 18,
        "endLine": 1307,
        "endChar": 33
      },
      "revId": "9d3c7da52f3c0a5b4bff0b43e712473805e8f97d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "944ade32_265fe2b6",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 4
      },
      "lineNbr": 1307,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-06-08T09:10:28Z",
      "side": 1,
      "message": "I\u0027d like to ignore such unexpected delay here as how much delay we\u0027ll see is also unexpected.\nEven if that happens, I\u0027d like to use calculated deadline until when that become problematic.\n\nAnd I think it is fine not to guarantee about what happens if tasks exceeded specified deadline.",
      "parentUuid": "d09e3ab4_e071a882",
      "range": {
        "startLine": 1307,
        "startChar": 18,
        "endLine": 1307,
        "endChar": 33
      },
      "revId": "9d3c7da52f3c0a5b4bff0b43e712473805e8f97d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6625b1ac_1263f31e",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 4
      },
      "lineNbr": 1315,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-06-08T08:31:16Z",
      "side": 1,
      "message": "There are different deadlines.\n- schedule deadline\n- task execution deadline\n\nSo it should be more explicit.\nIn this case, `execution_deadline` would be appropriate.\nBut I concern the accuracy of the calculation for the reason I commented.\n\nAnd, we don\u0027t want to depend on this deadline (maybe?).\nSo instead of making this property method, I would move this calculation (+ some buffer) right before resultdb.create_invocation_async() for now.",
      "range": {
        "startLine": 1315,
        "startChar": 6,
        "endLine": 1315,
        "endChar": 14
      },
      "revId": "9d3c7da52f3c0a5b4bff0b43e712473805e8f97d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17c586ff_b2192f8d",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 4
      },
      "lineNbr": 1315,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-06-08T09:10:28Z",
      "side": 1,
      "message": "renamed to execution_deadline.\n\nI prefer to keep this for narrow scoped unit test.",
      "parentUuid": "6625b1ac_1263f31e",
      "range": {
        "startLine": 1315,
        "startChar": 6,
        "endLine": 1315,
        "endChar": 14
      },
      "revId": "9d3c7da52f3c0a5b4bff0b43e712473805e8f97d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}