{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5df1baba_15d7ac3f",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2023-09-12T19:17:58Z",
      "side": 1,
      "message": "I hate it, but it should probably be \"Solaris\" for consistency with \"Windows\", \"Mac\".",
      "range": {
        "startLine": 217,
        "startChar": 17,
        "endLine": 217,
        "endChar": 18
      },
      "revId": "9a3ffffd46d6a7396943e43e6de7a38ba13488cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41fc276a_0ba0283c",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1568168
      },
      "writtenOn": "2023-09-12T19:27:24Z",
      "side": 1,
      "message": "In chat we discussed using Go\u0027s names for stuff (https://chat.google.com/room/AAAAq_uOPqQ/Bal7LEgPH9c). Either is fine by me, but that\u0027s the principle I\u0027ve been following.",
      "parentUuid": "5df1baba_15d7ac3f",
      "range": {
        "startLine": 217,
        "startChar": 17,
        "endLine": 217,
        "endChar": 18
      },
      "revId": "9a3ffffd46d6a7396943e43e6de7a38ba13488cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ff5227e_4ade3921",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2023-09-12T19:44:37Z",
      "side": 1,
      "message": "get_os_name() already returns random crap like \"Ubuntu\". It is supposedly identifies a concrete OS distribution, kind of. It is vague... It is used only in dimensions. I think it would be better to be consistent here and return \"Solaris\", to avoid making it even more vague.\n\ncipd.get_platform() is another matter, its return value actually used to identify what flavors of binaries to fetch and its return value is expected to be in a set of \"known\" platforms.\n\nI think we should leave \"os\" alone with it half-assed vague definition and introduce a new \"platform\" dimension which will always match cipd platform (basically ${GOOS}-${GOARCH} sans darwin/mac inconsistency...), and use it where it matters what platform to hit, but doesn\u0027t matter what exact OS it is (e.g. Ubuntu and Debian both will be linux-amd64). Wdyt?",
      "parentUuid": "41fc276a_0ba0283c",
      "range": {
        "startLine": 217,
        "startChar": 17,
        "endLine": 217,
        "endChar": 18
      },
      "revId": "9a3ffffd46d6a7396943e43e6de7a38ba13488cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3399ee9_9c420a6f",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1568168
      },
      "writtenOn": "2023-09-12T21:22:55Z",
      "side": 1,
      "message": "The logic seems sound, and it would simplify our configs a bit too, so I\u0027m certainly not opposed. I think it\u0027ll be easy enough to migrate our existing builders.\n\nHow sure are you that it should keep the darwin/mac substitution? On the one hand, being inconsistent with cipd is annoying; on the other, this is an opportunity to start fresh and make a clean break. Guess it depends on the long-term plans, if any, for this stuff.\n\n+Robbie since this a continuation of the discussion linked above.",
      "parentUuid": "1ff5227e_4ade3921",
      "range": {
        "startLine": 217,
        "startChar": 17,
        "endLine": 217,
        "endChar": 18
      },
      "revId": "9a3ffffd46d6a7396943e43e6de7a38ba13488cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7dfe6620_d131d7c6",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2023-09-13T20:26:46Z",
      "side": 1,
      "message": "100% agreed with introducing a new platform dimension... \"os\" is really weird.\n\nI suspect that it\u0027s probably better to live with the weird API lump (darwin/mac) than introduce a second weird API lump (darwin/mac... except for here!), unless we can fully remove the first lump (and I think doing so would be wayyy out of scope for this particular change).\n\nMaybe split the difference and just make the dimension explicitly \"cipd_platform\"?",
      "parentUuid": "b3399ee9_9c420a6f",
      "range": {
        "startLine": 217,
        "startChar": 17,
        "endLine": 217,
        "endChar": 18
      },
      "revId": "9a3ffffd46d6a7396943e43e6de7a38ba13488cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}