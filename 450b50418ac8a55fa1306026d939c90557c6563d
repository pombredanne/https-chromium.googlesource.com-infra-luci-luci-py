{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9b6ba89d_a1155cea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-09-30T02:32:10Z",
      "side": 1,
      "message": "Could you always run CQ+1 when upload new patchset?\ne.g. `git cl upload -d`",
      "revId": "450b50418ac8a55fa1306026d939c90557c6563d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "582f0816_3d672db1",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 4
      },
      "lineNbr": 316,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-09-30T02:32:10Z",
      "side": 1,
      "message": "you can use keys_only here?\nhttps://cloud.google.com/appengine/docs/standard/python/ndb/queryclass#kwdargs_options",
      "range": {
        "startLine": 316,
        "startChar": 29,
        "endLine": 316,
        "endChar": 39
      },
      "revId": "450b50418ac8a55fa1306026d939c90557c6563d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de7ea74d_0e0f3298",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 4
      },
      "lineNbr": 316,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-09-30T03:08:39Z",
      "side": 1,
      "message": "See my response to jwata above?\nIf we want to check for `should_be_dead` i\u0027m not aware of how we can do keys only",
      "parentUuid": "582f0816_3d672db1",
      "range": {
        "startLine": 316,
        "startChar": 29,
        "endLine": 316,
        "endChar": 39
      },
      "revId": "450b50418ac8a55fa1306026d939c90557c6563d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59988513_9189d23b",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 4
      },
      "lineNbr": 316,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-09-30T03:14:42Z",
      "side": 1,
      "message": "Sorry, I missed that.\n\nThen can we compare fetched bots entity w/ and w/o cache, and show warning log if there is mismatch here?\nI think we don\u0027t need to return entity key here then.",
      "parentUuid": "de7ea74d_0e0f3298",
      "range": {
        "startLine": 316,
        "startChar": 29,
        "endLine": 316,
        "endChar": 39
      },
      "revId": "450b50418ac8a55fa1306026d939c90557c6563d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf2cba62_7faab2c2",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 4
      },
      "lineNbr": 754,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-09-30T02:32:10Z",
      "side": 1,
      "message": "leave comment why we disable cache",
      "revId": "450b50418ac8a55fa1306026d939c90557c6563d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a3554f8_e9a85b61",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 4
      },
      "lineNbr": 755,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-09-30T03:12:23Z",
      "side": 1,
      "message": "Raising ndb.Return(None) early would be easy to read.\nAlso better to return if it updated the bot_info or not?\n\ne.g.\n```\nif not bot:\n  # logging\n  raise ndb.Return((False, None))\nif not bot.should_be_dead or not (bot.is_alive or not bot.is_dead):\n  ...\n  raise ndb.Return((False, bot))\n\nyield bot.put_async()\nraise ndb.Return((True, bot))\n```",
      "revId": "450b50418ac8a55fa1306026d939c90557c6563d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}