{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "77e9bd38_8fa23175",
        "filename": "client/tests/subprocess42_test.py",
        "patchSetId": 13
      },
      "lineNbr": 469,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-04T06:10:34Z",
      "side": 1,
      "message": "is it possible log nsjail output to file?",
      "revId": "5c3970e886d462585b6be3b11db6424ac1ea91cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b029cbc6_be8b0901",
        "filename": "client/tests/subprocess42_test.py",
        "patchSetId": 13
      },
      "lineNbr": 469,
      "author": {
        "id": 1372464
      },
      "writtenOn": "2021-08-04T06:27:45Z",
      "side": 1,
      "message": "From what I can tell, there\u0027s no way to have nsjail redirect stdout/stderr to a file. There is an option to redirect stderr to /dev/null, but that\u0027s about it.",
      "parentUuid": "77e9bd38_8fa23175",
      "revId": "5c3970e886d462585b6be3b11db6424ac1ea91cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e59e913_970e543a",
        "filename": "client/tests/subprocess42_test.py",
        "patchSetId": 13
      },
      "lineNbr": 469,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-04T06:41:56Z",
      "side": 1,
      "message": "https://github.com/google/nsjail/blob/95e112cf41abc0a98e80ed0c932a5ef263a4e735/config.proto#L111 seems the config for such purpose?",
      "parentUuid": "b029cbc6_be8b0901",
      "revId": "5c3970e886d462585b6be3b11db6424ac1ea91cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c7fa211_5c14260f",
        "filename": "client/tests/subprocess42_test.py",
        "patchSetId": 13
      },
      "lineNbr": 469,
      "author": {
        "id": 1372464
      },
      "writtenOn": "2021-08-04T06:51:03Z",
      "side": 1,
      "message": "Ah yeah, you\u0027re absolutely right, I missed that somehow. Are you suggesting that we always have nsjail write to some static file? Or is that something we want to pass in?",
      "parentUuid": "3e59e913_970e543a",
      "revId": "5c3970e886d462585b6be3b11db6424ac1ea91cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad75970f_505ed4cd",
        "filename": "client/tests/subprocess42_test.py",
        "patchSetId": 13
      },
      "lineNbr": 469,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-04T06:56:38Z",
      "side": 1,
      "message": "It is fine to write this to /dev/null for now.\n\nBy the way, can we distinguish failure whether it comes from nsjail or task?",
      "parentUuid": "2c7fa211_5c14260f",
      "revId": "5c3970e886d462585b6be3b11db6424ac1ea91cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc1131a0_d005fe1b",
        "filename": "client/tests/subprocess42_test.py",
        "patchSetId": 13
      },
      "lineNbr": 469,
      "author": {
        "id": 1372464
      },
      "writtenOn": "2021-08-04T07:05:27Z",
      "side": 1,
      "message": "Okay. Is this something you want to change in the test? I think it\u0027s valuable to check stdout/stderr in the test.\n\nAnd right now I\u0027ve been distinguishing the failures by reading the stderr messages, so it is possible, though I\u0027m not sure exactly how (or maybe even if?) we\u0027ll have swarming do this.",
      "parentUuid": "ad75970f_505ed4cd",
      "revId": "5c3970e886d462585b6be3b11db6424ac1ea91cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea8ff6d3_417bb801",
        "filename": "client/tests/subprocess42_test.py",
        "patchSetId": 13
      },
      "lineNbr": 469,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-04T09:42:41Z",
      "side": 1,
      "message": "\u003e Okay. Is this something you want to change in the test? I think it\u0027s valuable to check stdout/stderr in the test.\n\u003e \n\nI see. But my concern is nsjail log might be too chatty in task output.\nThen could you write nsjail log to some temp file and check the content of the file?\n\n\u003e And right now I\u0027ve been distinguishing the failures by reading the stderr messages, so it is possible, though I\u0027m not sure exactly how (or maybe even if?) we\u0027ll have swarming do this.\n\nI see.",
      "parentUuid": "fc1131a0_d005fe1b",
      "revId": "5c3970e886d462585b6be3b11db6424ac1ea91cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}