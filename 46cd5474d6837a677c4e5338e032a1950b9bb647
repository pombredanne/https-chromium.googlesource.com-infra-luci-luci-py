{
  "comments": [
    {
      "key": {
        "uuid": "a8fb31b7_866a4ccb",
        "filename": "appengine/swarming/local_smoke_test.py",
        "patchSetId": 7
      },
      "lineNbr": 638,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "I think I\u0027d like a smoke test. In fairness, \u0027env\u0027 is not smoke tested either so I don\u0027t feel strongly about it. It weeds out a lot of uncertainty if it all works together as a system. In practice, it\u0027s running a script like:\n\nimport os\nprint os.environ[\u0027FOO\u0027]\nprint os.environ[\u0027PATH\u0027]\n\n\nwith a task that triggers with env\u003d{FOO\u003dBAR} and env_prefixes\u003d{PATH\u003dbaz} then compare the expected outputs.\n\nAs I noted above, not a blocker for this CL.",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f54b3b7f_2a20c9bf",
        "filename": "appengine/swarming/local_smoke_test.py",
        "patchSetId": 7
      },
      "lineNbr": 638,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a8fb31b7_866a4ccb",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f0715d6_9689741d",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 7
      },
      "lineNbr": 206,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "this could be moved into _validate_env_key()",
      "range": {
        "startLine": 206,
        "startChar": 11,
        "endLine": 206,
        "endChar": 21
      },
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38a056f6_3a43d55d",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 7
      },
      "lineNbr": 206,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": "Done, though it\u0027s a bit redundant because in the case of _validate_env, it calls _validate_dict_of_strings, which checks this already.",
      "parentUuid": "0f0715d6_9689741d",
      "range": {
        "startLine": 206,
        "startChar": 11,
        "endLine": 206,
        "endChar": 21
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8679e5f_bae67619",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 7
      },
      "lineNbr": 213,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "also validate that v is not empty?",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4e68e4f_06c57f59",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 7
      },
      "lineNbr": 213,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": "I mean... it would be OK to have an empty path (i.e. cwd) on PATH. A bit weird, but who am I to judge?",
      "parentUuid": "a8679e5f_bae67619",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b2ad164_aab56705",
        "filename": "appengine/swarming/server/task_request_test.py",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "env is tested, it\u0027d be good to test env_prefixes too. You can just modify an existing test case, no need to create a new one.",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4f27a08_4f799296",
        "filename": "appengine/swarming/server/task_request_test.py",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b2ad164_aab56705",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36a9a225_af773bb6",
        "filename": "appengine/swarming/swarming_bot/bot_code/task_runner.py",
        "patchSetId": 7
      },
      "lineNbr": 172,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "if you prefer. :)",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "794c274d_52d83593",
        "filename": "appengine/swarming/swarming_bot/bot_code/task_runner.py",
        "patchSetId": 7
      },
      "lineNbr": 172,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": "Done :)",
      "parentUuid": "36a9a225_af773bb6",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24aa8f8f_1bbf7dac",
        "filename": "appengine/swarming/swarming_rpcs.py",
        "patchSetId": 7
      },
      "lineNbr": 207,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "Does it accept absolute paths too, because right now it does but the comment sounds like it doesn\u0027t.",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9563e9ae_e7303033",
        "filename": "appengine/swarming/swarming_rpcs.py",
        "patchSetId": 7
      },
      "lineNbr": 207,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": "I don\u0027t think it does, since we use _validate_rel_path on the values?",
      "parentUuid": "24aa8f8f_1bbf7dac",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bc4f6e4_d10e24e0",
        "filename": "appengine/swarming/swarming_rpcs.py",
        "patchSetId": 7
      },
      "lineNbr": 207,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T20:18:26Z",
      "side": 1,
      "message": "yeah I was confused.",
      "parentUuid": "9563e9ae_e7303033",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3840e635_62c104b8",
        "filename": "client/example/example_result/summary.json",
        "patchSetId": 7
      },
      "lineNbr": 1,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "this file should not be added.",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f89840a4_4cbfbcbb",
        "filename": "client/example/example_result/summary.json",
        "patchSetId": 7
      },
      "lineNbr": 1,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": "added .gitignore",
      "parentUuid": "3840e635_62c104b8",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fa7fa70_ef098bb8",
        "filename": "client/run_isolated.py",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T20:25:47Z",
      "side": 1,
      "message": "Bump",
      "range": {
        "startLine": 30,
        "startChar": 15,
        "endLine": 30,
        "endChar": 20
      },
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f042603_25c149b5",
        "filename": "client/run_isolated.py",
        "patchSetId": 7
      },
      "lineNbr": 301,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T14:57:32Z",
      "side": 1,
      "message": "The bug here is https://crbug.com/728874 :(\nNo requirement to address it here, but with this change it makes this bug even more wacky. That\u0027s why there\u0027s no \u0027--env\u0027 near line 995.",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40a9120c_f5d65096",
        "filename": "client/run_isolated.py",
        "patchSetId": 7
      },
      "lineNbr": 301,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2017-11-22T19:25:28Z",
      "side": 1,
      "message": ":( yeah... is there a way we could get rid of the task_runner/run_isolated process split? It seems like task_runner should really be handling these things.\n\nI had to do it in run_isolated because otherwise task_runner would need to know about the ./ir intermediate directory (since task_runner\u0027s cwd !\u003d task\u0027s cwd :( )",
      "parentUuid": "7f042603_25c149b5",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50b1e478_da2fc6c6",
        "filename": "client/swarming.py",
        "patchSetId": 7
      },
      "lineNbr": 8,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-11-22T20:25:47Z",
      "side": 1,
      "message": "Bump",
      "range": {
        "startLine": 8,
        "startChar": 14,
        "endLine": 8,
        "endChar": 21
      },
      "revId": "46cd5474d6837a677c4e5338e032a1950b9bb647",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}