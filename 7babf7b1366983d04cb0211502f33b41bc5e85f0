{
  "comments": [
    {
      "key": {
        "uuid": "98b06405_b221c746",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 9
      },
      "lineNbr": 1686,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-12-18T13:47:57Z",
      "side": 1,
      "message": "I don\u0027t think this is necessary, see the other comments.",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0a7f0b8_a6106321",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 9
      },
      "lineNbr": 1686,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-12-18T16:02:16Z",
      "side": 1,
      "message": "same here.\nThis hack is needed to cover the both try numbers.",
      "parentUuid": "98b06405_b221c746",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fdd6187_ae7007fb",
        "filename": "appengine/swarming/server/task_request_test.py",
        "patchSetId": 9
      },
      "lineNbr": 106,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-12-18T13:47:57Z",
      "side": 1,
      "message": "It\u0027s generally done at all site in this file, e.g. line 466.",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2d04157_0f3aea4c",
        "filename": "appengine/swarming/server/task_request_test.py",
        "patchSetId": 9
      },
      "lineNbr": 106,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-12-18T16:02:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5fdd6187_ae7007fb",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97a222a2_fafb90ee",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 9
      },
      "lineNbr": 1411,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-12-18T13:47:57Z",
      "side": 1,
      "message": "This should yield the TaskRunResult, not the summary.\n\nIt\u0027d be much more efficient.",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a96e404_f1e100d8",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 9
      },
      "lineNbr": 1411,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-12-18T16:02:16Z",
      "side": 1,
      "message": "I also initially thought this should be TaskRunResult.task_id.\nBut TaskResultSummary.task_id is given to task_cancel_running_children_tasks in the current implementation as I commented.",
      "parentUuid": "97a222a2_fafb90ee",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccefcbbe_1c430673",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 9
      },
      "lineNbr": 1411,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-12-18T18:40:48Z",
      "side": 1,
      "message": "Ok I feel that\u0027s an error in task_cancel_running_children_tasks(); it should use the run id instead of the summary id.",
      "parentUuid": "3a96e404_f1e100d8",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e62979f_dbde2498",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 9
      },
      "lineNbr": 1411,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-12-18T22:29:38Z",
      "side": 1,
      "message": "I think this comment explains the current implementation.\nhttps://cs.chromium.org/chromium/infra/luci/appengine/swarming/server/task_scheduler.py?q\u003d/internal/taskqueue/important/tasks/cancel-children-tasks\u0026sq\u003dpackage:chromium\u0026dr\u003dC\u0026l\u003d1590\n\nIt was intentionally changed to TaskResultSummary in this CL.\nhttps://chromium.googlesource.com/infra/luci/luci-py/+/193f6fb9182e1e04e7264483f6b4112c6dfb1f3b%5E%21/appengine/swarming/server/task_scheduler.py",
      "parentUuid": "ccefcbbe_1c430673",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7dddd400_87429ff5",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 9
      },
      "lineNbr": 1868,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-12-18T13:47:57Z",
      "side": 1,
      "message": "Here, you can look at the currently active TaskRunResult, or really, jus take the last one.",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b76b3df_8ba9c973",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 9
      },
      "lineNbr": 1868,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-12-18T16:02:16Z",
      "side": 1,
      "message": "There are currently two places to enqueue this task, and they give TaskResultSummary.task_id.\n\nhttps://cs.chromium.org/chromium/infra/luci/appengine/swarming/server/task_scheduler.py?q\u003d/internal/taskqueue/important/tasks/cancel-children-tasks\u0026sq\u003dpackage:chromium\u0026dr\u003dC\u0026l\u003d1467\nhttps://cs.chromium.org/chromium/infra/luci/appengine/swarming/server/task_scheduler.py?q\u003d/internal/taskqueue/important/tasks/cancel-children-tasks\u0026sq\u003dpackage:chromium\u0026dr\u003dC\u0026l\u003d1599\n\nAnd it will be converted to TaskResultSummary.task_id anyway even if it\u0027s TaskRunResult.\n\nhttps://cs.chromium.org/chromium/infra/luci/appengine/swarming/server/task_scheduler.py?q\u003d/internal/taskqueue/important/tasks/cancel-children-tasks\u0026sq\u003dpackage:chromium\u0026dr\u003dC\u0026l\u003d1467cancel_task_with_id",
      "parentUuid": "7dddd400_87429ff5",
      "revId": "7babf7b1366983d04cb0211502f33b41bc5e85f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}