{
  "comments": [
    {
      "key": {
        "uuid": "a9fcc783_e16224d5",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 5
      },
      "lineNbr": 226,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-11-19T00:45:47Z",
      "side": 1,
      "message": "why not 400?\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400",
      "range": {
        "startLine": 226,
        "startChar": 31,
        "endLine": 226,
        "endChar": 34
      },
      "revId": "b68f0412641a03a36079543cd4c179d18d73f5b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ae8b3e0_e2f8ba01",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 5
      },
      "lineNbr": 226,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-11-19T01:35:43Z",
      "side": 1,
      "message": "I thought 422 Unprocessable Entity is more specific than 400 in this case.\nBut 400 might be better since it\u0027s invalid request syntax.",
      "parentUuid": "a9fcc783_e16224d5",
      "range": {
        "startLine": 226,
        "startChar": 31,
        "endLine": 226,
        "endChar": 34
      },
      "revId": "b68f0412641a03a36079543cd4c179d18d73f5b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "384cf8de_0e25136b",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 5
      },
      "lineNbr": 238,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-11-19T00:45:47Z",
      "side": 1,
      "message": "I prefer to use 503 rather than 409 here.\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503",
      "range": {
        "startLine": 238,
        "startChar": 31,
        "endLine": 238,
        "endChar": 34
      },
      "revId": "b68f0412641a03a36079543cd4c179d18d73f5b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "803316f5_8ad519ba",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 5
      },
      "lineNbr": 238,
      "author": {
        "id": 1114919
      },
      "writtenOn": "2019-11-19T00:53:01Z",
      "side": 1,
      "message": "1. default alerting we have fires on 5xx, but ignores 4xx.\n\n2. The fact that this is an HTTP request is strictly speaking impl. detail of appengine task queues.\n\n4xx effectively says:\n * to monitoring: please, ignore.\n * task queue: please, retry.",
      "parentUuid": "384cf8de_0e25136b",
      "range": {
        "startLine": 238,
        "startChar": 31,
        "endLine": 238,
        "endChar": 34
      },
      "revId": "b68f0412641a03a36079543cd4c179d18d73f5b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35a70bc3_f6f43732",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 5
      },
      "lineNbr": 238,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-11-19T01:00:31Z",
      "side": 1,
      "message": "I see. Then how about to use 429?\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429\n\n409 sounds like retry won\u0027t success, but we expect retry will success in this case.",
      "parentUuid": "803316f5_8ad519ba",
      "range": {
        "startLine": 238,
        "startChar": 31,
        "endLine": 238,
        "endChar": 34
      },
      "revId": "b68f0412641a03a36079543cd4c179d18d73f5b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0505376_4fc8aed7",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 5
      },
      "lineNbr": 238,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-11-19T01:35:43Z",
      "side": 1,
      "message": "I was also wondering whether I should 409 or 429.\nI thought 409 Conflict makes more sense as it conflicts with another request modifying the same entity, whereas 429 Too Many Requests is used mainly for rate limit. but I see your point that 409 may imply to require modification, and 429 doesn\u0027t.",
      "parentUuid": "35a70bc3_f6f43732",
      "range": {
        "startLine": 238,
        "startChar": 31,
        "endLine": 238,
        "endChar": 34
      },
      "revId": "b68f0412641a03a36079543cd4c179d18d73f5b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}