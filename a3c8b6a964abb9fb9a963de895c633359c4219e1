{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4daf4bc7_598471cf",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-23T04:15:40Z",
      "side": 1,
      "message": "We need to tell host of buildbucket to Swarming?",
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2d21d51_e70ff5e9",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-23T04:17:34Z",
      "side": 1,
      "message": "i\u0027m not sure what this means, can you clarify?",
      "parentUuid": "4daf4bc7_598471cf",
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1eab2b0f_2052c0c1",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-23T04:19:36Z",
      "side": 1,
      "message": "I meant to ask your plan to get url of buildbucket for this.",
      "parentUuid": "c2d21d51_e70ff5e9",
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "943245ec_60399c78",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2021-08-23T16:21:38Z",
      "side": 1,
      "message": "I\u0027ll add this to the initial request",
      "parentUuid": "1eab2b0f_2052c0c1",
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a792b7bd_291b7617",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-23T18:07:26Z",
      "side": 1,
      "message": "i\u0027ll add the URL to task_request.BuildToken",
      "parentUuid": "943245ec_60399c78",
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00b3d859_7491e51c",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 6
      },
      "lineNbr": 300,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-23T04:15:40Z",
      "side": 1,
      "message": "can we use _task_id for this?",
      "range": {
        "startLine": 300,
        "startChar": 27,
        "endLine": 300,
        "endChar": 61
      },
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "793e11ce_80bb70af",
        "filename": "appengine/swarming/handlers_backend.py",
        "patchSetId": 6
      },
      "lineNbr": 300,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-23T18:07:26Z",
      "side": 1,
      "message": "sry, forgot to fix after copying above.",
      "parentUuid": "00b3d859_7491e51c",
      "range": {
        "startLine": 300,
        "startChar": 27,
        "endLine": 300,
        "endChar": 61
      },
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86cc04e7_00abe518",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 6
      },
      "lineNbr": 509,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-23T04:12:35Z",
      "side": 1,
      "message": "Is there any other payload that it needs to include? e.g. task state",
      "range": {
        "startLine": 509,
        "startChar": 0,
        "endLine": 509,
        "endChar": 34
      },
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ef84015_cc5882bf",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 6
      },
      "lineNbr": 509,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2021-08-23T16:21:38Z",
      "side": 1,
      "message": "I suspect this can work exactly like it does for pubsub (e.g. at task queue run time it pulls the current task state to fill any additional fields)",
      "parentUuid": "86cc04e7_00abe518",
      "range": {
        "startLine": 509,
        "startChar": 0,
        "endLine": 509,
        "endChar": 34
      },
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48b5e23c_10e4d68a",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 6
      },
      "lineNbr": 509,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-23T18:07:26Z",
      "side": 1,
      "message": "I suspected that task_id was most likely enough to get the task status and BuildToken.\nBut i wasn\u0027t thinking too much about the exact things we need to include in payload. Whenever we realize we need more, I think it would be easy to add later?",
      "parentUuid": "9ef84015_cc5882bf",
      "range": {
        "startLine": 509,
        "startChar": 0,
        "endLine": 509,
        "endChar": 34
      },
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa70a367_251758b1",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 6
      },
      "lineNbr": 509,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-24T01:41:40Z",
      "side": 1,
      "message": "\u003e e.g. at task queue run time it pulls the current task state to fill any additional fields\n\nhttps://source.chromium.org/chromium/infra/infra/+/main:luci/appengine/swarming/server/task_scheduler.py;l\u003d508;drc\u003d4a75d5f1714e85060adb431028aef55239d7400f\n\nThe pubsub task doesn\u0027t pull task state. So I wonder how subscribers distinguish events now.\n\nAnyway,\nwith task id, it can retrieve the latest status indeed.\nIf that\u0027s enough, there shouldn\u0027t be a problem.",
      "parentUuid": "48b5e23c_10e4d68a",
      "range": {
        "startLine": 509,
        "startChar": 0,
        "endLine": 509,
        "endChar": 34
      },
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d6c273c_23ba2775",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 6
      },
      "lineNbr": 511,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-24T01:41:40Z",
      "side": 1,
      "message": "If the request URL includes task_id, the payload doesn\u0027t need to include task_id?",
      "range": {
        "startLine": 511,
        "startChar": 69,
        "endLine": 511,
        "endChar": 76
      },
      "revId": "a3c8b6a964abb9fb9a963de895c633359c4219e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}