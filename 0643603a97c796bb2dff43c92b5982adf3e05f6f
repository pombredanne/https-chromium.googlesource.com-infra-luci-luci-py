{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b4f703b1_b3f8673c",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 17
      },
      "lineNbr": 1646,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2022-04-12T16:43:13Z",
      "side": 1,
      "message": "note; this can be very slow in python; we\u0027ll need to carefully monitor the performance of these handlers to make sure they don\u0027t start timing out.",
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6f07f57_711d47c2",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 17
      },
      "lineNbr": 1646,
      "author": {
        "id": 1456797
      },
      "writtenOn": "2022-04-12T16:52:45Z",
      "side": 1,
      "message": "If I changed it to not format the events inline with the message creation would this help with speed? or is it mostly to do with python\u0027s slower proto handling?",
      "parentUuid": "b4f703b1_b3f8673c",
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c0d92e0_c8fdd4c4",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 17
      },
      "lineNbr": 1646,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2022-04-12T17:20:28Z",
      "side": 1,
      "message": "Python\u0027s proto handling on appengine is just known to be slow (we rewrote buildbucket in Go with this as a primary driving force; saw a 10x perf increase). Just something that we need to watch out for.",
      "parentUuid": "e6f07f57_711d47c2",
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "db57674c_4b3c2227",
        "filename": "appengine/swarming/server/task_result.py",
        "patchSetId": 17
      },
      "lineNbr": 1646,
      "author": {
        "id": 1456797
      },
      "writtenOn": "2022-04-12T22:01:00Z",
      "side": 1,
      "message": "sounds good",
      "parentUuid": "4c0d92e0_c8fdd4c4",
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f82b1eeb_8069414d",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 17
      },
      "lineNbr": 1174,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2022-04-12T16:43:13Z",
      "side": 1,
      "message": "maybe this should be in a class setUp method?",
      "range": {
        "startLine": 1174,
        "startChar": 9,
        "endLine": 1174,
        "endChar": 29
      },
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b4f4146_d132119f",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 17
      },
      "lineNbr": 1174,
      "author": {
        "id": 1456797
      },
      "writtenOn": "2022-04-12T16:52:45Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f82b1eeb_8069414d",
      "range": {
        "startLine": 1174,
        "startChar": 9,
        "endLine": 1174,
        "endChar": 29
      },
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ed40651_6b49f6b5",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 17
      },
      "lineNbr": 1174,
      "author": {
        "id": 1456797
      },
      "writtenOn": "2022-04-12T21:43:32Z",
      "side": 1,
      "message": "So there\u0027s a setup method already but none of the modified test\u0027s use it. I could add it in there and then call it but not sure what implication it would have on the test\u0027s themselves.",
      "parentUuid": "0b4f4146_d132119f",
      "range": {
        "startLine": 1174,
        "startChar": 9,
        "endLine": 1174,
        "endChar": 29
      },
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92b22aa9_6550a1cf",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 17
      },
      "lineNbr": 1174,
      "author": {
        "id": 1456797
      },
      "writtenOn": "2022-04-13T17:17:07Z",
      "side": 1,
      "message": "I can add the mocks as a part of the set up and toss it behind a flag. Would this be preferred to the current implementation?",
      "parentUuid": "1ed40651_6b49f6b5",
      "range": {
        "startLine": 1174,
        "startChar": 9,
        "endLine": 1174,
        "endChar": 29
      },
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "365765fc_d10ee7cf",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 17
      },
      "lineNbr": 1174,
      "author": {
        "id": 1456797
      },
      "writtenOn": "2022-04-14T23:57:02Z",
      "side": 1,
      "message": "The pub/sub code has been moved to it\u0027s own test_support file. This removed the duplication of code that was present before.",
      "parentUuid": "92b22aa9_6550a1cf",
      "range": {
        "startLine": 1174,
        "startChar": 9,
        "endLine": 1174,
        "endChar": 29
      },
      "revId": "0643603a97c796bb2dff43c92b5982adf3e05f6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}