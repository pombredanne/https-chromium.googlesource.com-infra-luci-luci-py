{
  "comments": [
    {
      "key": {
        "uuid": "69336f6d_e8c6f1ef",
        "filename": "appengine/swarming/server/service_accounts_test.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-04-01T08:21:35Z",
      "side": 1,
      "message": "You can completely deprecate the parameter from this function. \nhttps://source.chromium.org/chromium/infra/infra/+/master:luci/appengine/swarming/server/task_pack.py;l\u003d42?q\u003dresult_summary_key_to_run_result_key\u0026ss\u003dchromium\u0026originalUrl\u003dhttps:%2F%2Fcs.chromium.org%2F",
      "revId": "dd27d314820fbb7cfcab7c84d44e29b45a7a5e05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b15bbb84_0f0e02e8",
        "filename": "appengine/swarming/server/service_accounts_test.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-04-01T08:33:53Z",
      "side": 1,
      "message": "I think until all of TaskRunResult with retry are removed from datastore, we cannot remove the parameter completely for backward compatibility?\ne.g. https://source.chromium.org/chromium/infra/infra/+/master:luci/appengine/swarming/server/task_pack.py;l\u003d171;drc\u003dbbf39bb4d6cce278073d258dac8168821cf20a05?originalUrl\u003dhttps:%2F%2Fcs.chromium.org%2F",
      "parentUuid": "69336f6d_e8c6f1ef",
      "revId": "dd27d314820fbb7cfcab7c84d44e29b45a7a5e05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42f57c16_ae888403",
        "filename": "appengine/swarming/server/service_accounts_test.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-04-01T08:47:31Z",
      "side": 1,
      "message": "I meant the function could always return \"ndb.Key(\u0027TaskRunResult\u0027, 1, parent\u003dresult_summary_key)\". Not changing the entity key.",
      "parentUuid": "b15bbb84_0f0e02e8",
      "revId": "dd27d314820fbb7cfcab7c84d44e29b45a7a5e05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf3a8eff_cb30e145",
        "filename": "appengine/swarming/server/service_accounts_test.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-04-01T09:03:48Z",
      "side": 1,
      "message": "I guess result_summary_key_to_run_result_key is still called with try_number\u003d2 when we see the result of task which was retried from browser?\nAt least, we need to deploy the version that doesn\u0027t do retry first before removing every path where is handling retry?",
      "parentUuid": "42f57c16_ae888403",
      "revId": "dd27d314820fbb7cfcab7c84d44e29b45a7a5e05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0ccb017_84add74c",
        "filename": "appengine/swarming/server/service_accounts_test.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-04-01T09:06:50Z",
      "side": 1,
      "message": "\u003e At least, we need to deploy the version that doesn\u0027t do retry first before removing every path where is handling retry?\n\n\nI think you should deploy this first. the clean up isn\u0027t high priority.\nYou should clean up those code after making sure that removing retry doesn\u0027t cause issues.\nYou may need to wait for 1 week or so.",
      "parentUuid": "cf3a8eff_cb30e145",
      "revId": "dd27d314820fbb7cfcab7c84d44e29b45a7a5e05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}