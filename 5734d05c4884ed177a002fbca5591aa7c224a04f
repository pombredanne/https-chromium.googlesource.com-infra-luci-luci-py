{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c40af951_aa7e4f85",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-07-14T07:13:37Z",
      "side": 1,
      "message": "why not None?",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "492613e2_81065ceb",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-07-14T07:20:43Z",
      "side": 1,
      "message": "The exit_code field of TaskResult proto message can\u0027t have None.\nOr is it possible to have None value on the proto field?",
      "parentUuid": "c40af951_aa7e4f85",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "adfd5bd1_c0d81ebd",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-07-14T07:21:48Z",
      "side": 1,
      "message": "We should set -1 instead?\nhttps://source.chromium.org/chromium/infra/infra/+/main:luci/appengine/swarming/proto/api/swarming.proto;l\u003d1027;drc\u003d993b0b02f7c3e6c8cd107c829b0ba3db5a1a4b0c",
      "parentUuid": "492613e2_81065ceb",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8030aaf8_3b75adfe",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-07-14T07:23:22Z",
      "side": 1,
      "message": "Ah, maybe better to use HasField in check for that.\nhttps://developers.google.com/protocol-buffers/docs/reference/python-generated#singular-fields-proto3",
      "parentUuid": "492613e2_81065ceb",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43e72e02_9f4eede5",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-07-14T07:27:37Z",
      "side": 1,
      "message": "\u003e HasField\nThat can be used only for repeated field or optional field.\nI will check if I can change the BQ field to optional.",
      "parentUuid": "8030aaf8_3b75adfe",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61a925a4_d0097364",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-07-14T07:33:41Z",
      "side": 1,
      "message": "Every field in proto3 is optional.\nhttp://shortn/_nxuwhGmcHE",
      "parentUuid": "43e72e02_9f4eede5",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b5a968f_31be301c",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-07-14T07:39:13Z",
      "side": 1,
      "message": "I see. \n\nBut I got this error when calling HasField().\n```\n\u003e  actual.HasField(\u0027exit_code\u0027)\n*** ValueError: Protocol message swarming.v1.TaskResult has no non-repeated submessage field \"exit_code\" nor marked as optional\n```\n\nIt\u0027s aligned with the document you shared, though.\n\u003e Unlike in proto2, you cannot call HasField() for a singular non-message field in proto3, and the library will throw an exception if you try to do this.\n\n\nI couldn\u0027t add `optional`, btw.\n```\nswarming.proto: This file contains proto3 optional fields, but --experimental_allow_proto3_optional was not set.\n```",
      "parentUuid": "43e72e02_9f4eede5",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5439f88b_ce9698c8",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-07-14T07:42:24Z",
      "side": 1,
      "message": "I changed the code to set -1 instead. PTAL.",
      "parentUuid": "5b5a968f_31be301c",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "259ef524_d17ae8e8",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-07-14T07:47:15Z",
      "side": 1,
      "message": "Better to do unsigned/signed conversion then?",
      "parentUuid": "5439f88b_ce9698c8",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcd65120_2198797a",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-07-14T07:52:57Z",
      "side": 1,
      "message": "I see. \nIt\u0027s possible to convert unsigned int32. Ok.",
      "parentUuid": "259ef524_d17ae8e8",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "792e7bb6_ce7ad25b",
        "filename": "appengine/swarming/server/task_result_test.py",
        "patchSetId": 3
      },
      "lineNbr": 1206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-07-14T12:06:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bcd65120_2198797a",
      "range": {
        "startLine": 1206,
        "startChar": 14,
        "endLine": 1206,
        "endChar": 15
      },
      "revId": "5734d05c4884ed177a002fbca5591aa7c224a04f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}