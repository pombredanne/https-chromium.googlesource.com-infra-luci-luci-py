{
  "comments": [
    {
      "key": {
        "uuid": "cad06e1b_60aaa3dd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2017-09-06T22:23:29Z",
      "side": 1,
      "message": "nit: without",
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ac85e2e_60a32ba9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2017-09-07T00:29:23Z",
      "side": 1,
      "message": "^ +dpranke@",
      "range": {
        "startLine": 10,
        "startChar": 49,
        "endLine": 11,
        "endChar": 39
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a298775b_905b1be4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-09-07T00:33:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cad06e1b_60aaa3dd",
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f08bc4d_b190a508",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2017-09-06T20:12:23Z",
      "side": 1,
      "message": "No no no! We trigger GPU jobs on the Mac Minis on mac_chromium_rel_ng, and these only have Intel GPUs. This is going to break mac_chromium_rel_ng!",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0c8bdaa_3ef9c757",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2017-09-06T20:14:40Z",
      "side": 1,
      "message": "OK, sorry, I think I misunderstood. It sounds like this isn\u0027t going to remove gpu:8086:0a2e but add gpu:none.",
      "parentUuid": "3f08bc4d_b190a508",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0b5a425_93a9e229",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-09-06T20:15:33Z",
      "side": 1,
      "message": "Exact: it\u0027s not removing anything on purpose; people may still want to target a specific Intel card, and I don\u0027t want to remove this. That\u0027s why it is *appending* \u0027none\u0027.",
      "parentUuid": "d0c8bdaa_3ef9c757",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc58f15d_05309089",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2017-09-07T00:25:32Z",
      "side": 1,
      "message": "Wouldn\u0027t it be better to just have the tasks not request a GPU if they don\u0027t care what kind?\n\nI\u0027m not sure why we\u0027re explicitly specifying GPUs in this case.",
      "parentUuid": "c0b5a425_93a9e229",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80529f43_4ee3bf15",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2017-09-07T00:29:23Z",
      "side": 1,
      "message": "AFAIK, the idea is to definitely not have any dedicated GPU. See CL description.",
      "parentUuid": "fc58f15d_05309089",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f383e74_0771ce6b",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-09-07T00:33:01Z",
      "side": 1,
      "message": "\u003e AFAIK, the idea is to definitely not have any dedicated GPU. See CL description.\n\nWhat Andrii said. Right now the json config files are using the Intel GPU model as a filtering factor as \"doesn\u0027t have a dedicated GPU\". This is brittle.",
      "parentUuid": "80529f43_4ee3bf15",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "495ab61e_637c0a5c",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2017-09-07T00:33:59Z",
      "side": 1,
      "message": "Someone (possibly me) is confused. Most of the Mac fleet now are real devices (Mac Minis) with actual GPUs. My understanding of this change is that maruel@ is suggesting that the Minis masquerade as VMs without GPUs, so that they will run tasks requesting gpu:None.\n\nBut, requesting gpu:None is different from not specifying a gpu. Why don\u0027t we just not specify a GPU, and then we\u0027ll get either things with or without GPUs?",
      "parentUuid": "80529f43_4ee3bf15",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd6a6f0e_b0bdfee8",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2017-09-07T00:36:08Z",
      "side": 1,
      "message": "whoops, I meant \"requesting gpu:None is different from not requesting a gpu at all. Why don\u0027t we just not request a GPU\"? conflating requesting and specifying confuses things further :(.\n\nIn other words: why aren\u0027t we fixing the JSON configs instead?",
      "parentUuid": "495ab61e_637c0a5c",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ff406e7_179d2003",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1146751
      },
      "writtenOn": "2017-09-07T00:43:43Z",
      "side": 1,
      "message": "I think we should have;\n\n primary-gpu:\u003cxyz\u003e\n secondary-gpu:\u003cabc\u003e\n gpu: \u003calias for secondary-gpu\u003e\n\nLayoutTests are very sensitive to the GPU configuration (specially on Mac) at the moment.",
      "parentUuid": "cd6a6f0e_b0bdfee8",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ae1c180_9d07274b",
        "filename": "appengine/swarming/swarming_bot/api/os_utilities.py",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2017-09-07T00:52:55Z",
      "side": 1,
      "message": "The goal is:\n- not burden the dedicated GPU ones with tests that do not care much about which GPU is used.\n- reduce locking into integrated GPU specific model.\n\n\u003e I think we should have;\n\u003e \n\u003e  primary-gpu:\u003cxyz\u003e\n\u003e  secondary-gpu:\u003cabc\u003e\n\u003e  gpu: \u003calias for secondary-gpu\u003e\n\u003e \n\u003e LayoutTests are very sensitive to the GPU configuration (specially on Mac) at the moment.\n\nThis change is specifically about the tests that are just fine with only an integrated GPU. There\u0027s currently no way to state \"only one GPU of type model X\". That could be added if you think the specific Intel GPU model matters for layout tests (if it does, I have serious concerns about the tests but that\u0027s another story)",
      "parentUuid": "9ff406e7_179d2003",
      "range": {
        "startLine": 449,
        "startChar": 6,
        "endLine": 449,
        "endChar": 16
      },
      "revId": "fe07cf64ec286170469205da645fbe9f3b50937b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}