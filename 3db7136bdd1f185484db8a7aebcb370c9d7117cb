{
  "comments": [
    {
      "key": {
        "uuid": "f389f41a_5dd60b23",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 1
      },
      "lineNbr": 721,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-05-04T04:03:21Z",
      "side": 1,
      "message": "Creates",
      "range": {
        "startLine": 721,
        "startChar": 5,
        "endLine": 721,
        "endChar": 11
      },
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa0ffa11_d0ffac9b",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 1
      },
      "lineNbr": 721,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-05-04T15:16:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f389f41a_5dd60b23",
      "range": {
        "startLine": 721,
        "startChar": 5,
        "endLine": 721,
        "endChar": 11
      },
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6baef06c_724a8954",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 1
      },
      "lineNbr": 735,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-05-04T04:03:21Z",
      "side": 1,
      "message": "My understanding of what this does:\n\nTaskResultSummary, TaskToRun, and SecretBytes are all children of TaskRequest.\n\nThis makes a a ndb Key for a new TaskRequest, then sets the key of the given TaskResultSummary, TaskToRun and SecretBytes so that the parent is the new TaskRequest (it \"re-parents\" them so they belong to a different task request).\n\nBut it doesn\u0027t put them in datastore. So, it\u0027s assumed that these entities will be put in datastore later on. Is that right?",
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eec7bb76_240211a1",
        "filename": "appengine/swarming/server/task_scheduler.py",
        "patchSetId": 1
      },
      "lineNbr": 735,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-05-04T15:16:30Z",
      "side": 1,
      "message": "Exact. The whole process is hidden in https://cs.chromium.org/chromium/infra/luci/appengine/components/components/datastore_utils/monotonic.py?l\u003d51\n\nThis function is passed as new_key_callback. Modified line 800 to make this clearer.",
      "parentUuid": "6baef06c_724a8954",
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8033ca9c_bcd4baea",
        "filename": "appengine/swarming/server/task_scheduler_test.py",
        "patchSetId": 1
      },
      "lineNbr": 313,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-05-04T04:03:21Z",
      "side": 1,
      "message": "Now called _gen_new_keys",
      "range": {
        "startLine": 313,
        "startChar": 18,
        "endLine": 313,
        "endChar": 30
      },
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25d0fed4_c49e4cab",
        "filename": "appengine/swarming/server/task_scheduler_test.py",
        "patchSetId": 1
      },
      "lineNbr": 313,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-05-04T15:16:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8033ca9c_bcd4baea",
      "range": {
        "startLine": 313,
        "startChar": 18,
        "endLine": 313,
        "endChar": 30
      },
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c9ed3ad_7b442200",
        "filename": "appengine/swarming/server/task_scheduler_test.py",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-05-04T04:03:21Z",
      "side": 1,
      "message": "Why does this call to _quick_schedule involve calling _gen_new_keys, but the one above doesn\u0027t?",
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0d781ce_99381843",
        "filename": "appengine/swarming/server/task_scheduler_test.py",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-05-04T15:16:30Z",
      "side": 1,
      "message": "Added many comments to explain what\u0027s happening, since I agree it\u0027s fairly opaque.",
      "parentUuid": "1c9ed3ad_7b442200",
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "722d773d_62972486",
        "filename": "appengine/swarming/server/task_scheduler_test.py",
        "patchSetId": 1
      },
      "lineNbr": 330,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-05-04T04:03:21Z",
      "side": 1,
      "message": "Should this comment be different from the one in the test above?",
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71afea9e_f598f5d9",
        "filename": "appengine/swarming/server/task_scheduler_test.py",
        "patchSetId": 1
      },
      "lineNbr": 330,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-05-04T15:16:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "722d773d_62972486",
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac343954_12cdaa5a",
        "filename": "appengine/swarming/server/task_scheduler_test.py",
        "patchSetId": 1
      },
      "lineNbr": 351,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-05-04T04:03:21Z",
      "side": 1,
      "message": "These tests look generally pretty good based on a quick glance.",
      "revId": "3db7136bdd1f185484db8a7aebcb370c9d7117cb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}