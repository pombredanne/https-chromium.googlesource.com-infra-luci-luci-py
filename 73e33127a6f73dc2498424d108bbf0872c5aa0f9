{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "aee1087b_372b04a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-09-02T02:55:49Z",
      "side": 1,
      "message": "See https://chromium-review.googlesource.com/c/infra/luci/luci-py/+/3137414/2/appengine/swarming/handlers_prpc.py\n\nfor how backend_conversions.convert_results_to_tasks() will be called",
      "revId": "73e33127a6f73dc2498424d108bbf0872c5aa0f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e91b95f0_911bc6c9",
        "filename": "appengine/swarming/backend_conversions.py",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-09-02T03:56:38Z",
      "side": 1,
      "message": "Does the caller side need to contract task_results that include None?",
      "range": {
        "startLine": 206,
        "startChar": 4,
        "endLine": 206,
        "endChar": 22
      },
      "revId": "73e33127a6f73dc2498424d108bbf0872c5aa0f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "493155f1_81da7eb1",
        "filename": "appengine/swarming/backend_conversions.py",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-09-02T04:26:21Z",
      "side": 1,
      "message": "Are you asking if the caller should discard None\u0027s instead before calling \u0027convert_results_to_tasks\u0027 and so FetchTasks should just not return Tasks that aren\u0027t found?\ni\u0027ll defer to Robbie on that, I\u0027m not sure what\u0027s easier to process for the bb side.",
      "parentUuid": "e91b95f0_911bc6c9",
      "range": {
        "startLine": 206,
        "startChar": 4,
        "endLine": 206,
        "endChar": 22
      },
      "revId": "73e33127a6f73dc2498424d108bbf0872c5aa0f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "124ce9e7_92e31d60",
        "filename": "appengine/swarming/backend_conversions.py",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-09-02T04:49:41Z",
      "side": 1,
      "message": "My question isn\u0027t related to BB.\n\nLet me elaborate.\n\nI assume task_results are fetched from Datastore by task_ids in FetchTasks request and given to convert_results_to_tasks(). And I also assumed that Datastore returns only existing task_results.\nSo it may need to reconstruct task_results to include None for none-existing ones.\n\nIf those assumptions are correct,\nIt\u0027s better to check the existence of task_results in convert_results_to_tasks() comparing task_ids and result.task_id.",
      "parentUuid": "493155f1_81da7eb1",
      "range": {
        "startLine": 206,
        "startChar": 4,
        "endLine": 206,
        "endChar": 22
      },
      "revId": "73e33127a6f73dc2498424d108bbf0872c5aa0f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}