{
  "comments": [
    {
      "key": {
        "uuid": "524ee987_8102f4c7",
        "filename": "appengine/swarming/handlers_endpoints.py",
        "patchSetId": 2
      },
      "lineNbr": 409,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "+4",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fbef7bc_8f5d24c7",
        "filename": "appengine/swarming/handlers_endpoints.py",
        "patchSetId": 2
      },
      "lineNbr": 409,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "524ee987_8102f4c7",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3d3ecee7_1bb55b29",
        "filename": "appengine/swarming/handlers_endpoints_test.py",
        "patchSetId": 2
      },
      "lineNbr": 291,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-06T04:07:06Z",
      "side": 1,
      "message": "this is the new endpoints handler unit/smoke test. Will add unittests for the pools_config logic directly as well.",
      "range": {
        "startLine": 291,
        "startChar": 6,
        "endLine": 291,
        "endChar": 26
      },
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e5a623f_fe7bf661",
        "filename": "appengine/swarming/handlers_endpoints_test.py",
        "patchSetId": 2
      },
      "lineNbr": 305,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-06T04:07:06Z",
      "side": 1,
      "message": "note that we use the \u0027template\u0027 pool",
      "range": {
        "startLine": 305,
        "startChar": 0,
        "endLine": 305,
        "endChar": 55
      },
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a2000f9_6aac0455",
        "filename": "appengine/swarming/handlers_endpoints_test.py",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "you can skip pubsub unless you want to test this specifically.",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59214445_51972d5b",
        "filename": "appengine/swarming/handlers_endpoints_test.py",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2a2000f9_6aac0455",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0bb74332_5f755df1",
        "filename": "appengine/swarming/handlers_endpoints_test.py",
        "patchSetId": 2
      },
      "lineNbr": 314,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "unless you test changing the variables, no need to specify them (here and lines 301-302)",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d6be39b_87915594",
        "filename": "appengine/swarming/handlers_endpoints_test.py",
        "patchSetId": 2
      },
      "lineNbr": 314,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0bb74332_5f755df1",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a51b8b04_0f64683d",
        "filename": "appengine/swarming/handlers_endpoints_test.py",
        "patchSetId": 2
      },
      "lineNbr": 316,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-06T04:07:06Z",
      "side": 1,
      "message": "and automatically get `$VAR\u003dprod` applied to the task, even though we didn\u0027t request it.",
      "range": {
        "startLine": 316,
        "startChar": 0,
        "endLine": 316,
        "endChar": 50
      },
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "879477ff_cb6589f9",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 115,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "I\u0027d prefer to not \"silently fallback\" and instead hard fail if the client asks for canary and there isn\u0027t one (?)",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb7fb783_5e0a2f82",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 115,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "This is the intended behavior of CANARY_PREFER (and why it\u0027s not called CANARY_ALWAYS or CANARY_REQUIRE). It allows clients to ask \"gimme the most experimental thing you have\" without being contingent on the current state of the global config (which is racy and/or poor encapsulation).",
      "parentUuid": "879477ff_cb6589f9",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "513f79f0_e158701f",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "+4",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d1cab26_04099498",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "513f79f0_e158701f",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71c3a146_a54beb25",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 291,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-06T04:07:06Z",
      "side": 1,
      "message": "this logic isn\u0027t quite right",
      "range": {
        "startLine": 291,
        "startChar": 9,
        "endLine": 291,
        "endChar": 33
      },
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69ea4f22_fe9b2422",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 291,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71c3a146_a54beb25",
      "range": {
        "startLine": 291,
        "startChar": 9,
        "endLine": 291,
        "endChar": 33
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3cd5f6b0_3961bb07",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "align call args at +4, it makes it easier to distinguish from arguments.",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb2fa248_46911d08",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "fixed everywhere I think.",
      "parentUuid": "3cd5f6b0_3961bb07",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9b9b7b2_e3500f50",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 347,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "if not pool_name?",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "467a9b18_bf90cd50",
        "filename": "appengine/swarming/server/pools_config.py",
        "patchSetId": 2
      },
      "lineNbr": 347,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "it\u0027s valid to have a pool name of \u0027\u0027 I think?",
      "parentUuid": "c9b9b7b2_e3500f50",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4df77b78_30d3261e",
        "filename": "appengine/swarming/server/task_request.py",
        "patchSetId": 2
      },
      "lineNbr": 605,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-06T04:07:46Z",
      "side": 1,
      "message": "I added this convenience property because this was duplicated in a couple places and I didn\u0027t want to add another place.",
      "range": {
        "startLine": 605,
        "startChar": 6,
        "endLine": 605,
        "endChar": 10
      },
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc14cef4_cd099382",
        "filename": "appengine/swarming/swarming_rpcs.py",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2018-04-06T20:05:28Z",
      "side": 1,
      "message": "CANARY \u003d 1\nPROD \u003d 2\n?",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6059fd3d_bf68785c",
        "filename": "appengine/swarming/swarming_rpcs.py",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-12T01:16:22Z",
      "side": 1,
      "message": "nope, these are intended, as documented in the design. We can revisit the design if you want though.\n\nThe intent is that the user of the swarming API is always safe to provide any of these, and they all have well-defined behaviors. Otherwise the user\u0027s request will error depending exclusively on the state of the (unsynchronized) global configuration (which I don\u0027t like).",
      "parentUuid": "dc14cef4_cd099382",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c200b257_4dca6936",
        "filename": "appengine/swarming/test_env_handlers.py",
        "patchSetId": 2
      },
      "lineNbr": 172,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2018-04-06T04:07:06Z",
      "side": 1,
      "message": "here\u0027s the TaskTemplate definitions in the \u0027template\u0027 pool",
      "range": {
        "startLine": 172,
        "startChar": 17,
        "endLine": 172,
        "endChar": 66
      },
      "revId": "6354b188cb0b78146bd17e08219baf77a7912377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}