{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8125568b_42dd1cb5",
        "filename": "appengine/swarming/swarming_bot/bot_code/task_runner.py",
        "patchSetId": 1
      },
      "lineNbr": 244,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2022-10-03T18:57:00Z",
      "side": 1,
      "message": "I think this will be task dimensions, not bot dimensions. I\u0027m afraid we\u0027ll need to pipe bot dimensions all the way from the server.",
      "range": {
        "startLine": 244,
        "startChar": 4,
        "endLine": 244,
        "endChar": 40
      },
      "revId": "7fc59ccc5e823c5c238cb567973d9d9789b51d51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a2f8030_30c9ab85",
        "filename": "appengine/swarming/swarming_bot/bot_code/task_runner.py",
        "patchSetId": 1
      },
      "lineNbr": 244,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2022-10-03T19:08:09Z",
      "side": 1,
      "message": "oh, yuck, the bot doesn\u0027t know them locally? (I can see why task_runner wouldn\u0027t, but I naively expected the bot to have this state...)",
      "parentUuid": "8125568b_42dd1cb5",
      "range": {
        "startLine": 244,
        "startChar": 4,
        "endLine": 244,
        "endChar": 40
      },
      "revId": "7fc59ccc5e823c5c238cb567973d9d9789b51d51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed300f3b_aa14a03e",
        "filename": "appengine/swarming/swarming_bot/bot_code/task_runner.py",
        "patchSetId": 1
      },
      "lineNbr": 244,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2022-10-03T19:15:11Z",
      "side": 1,
      "message": "It knows, but local values needs to be propagate carefully too. Just calling get_dimensions() will not work, since this function calls hooks and generally returns different results each time. We\u0027ll need to remember dimensions we called /bot/poll with and pass them to the task polled this way (and assume Swarming server doesn\u0027t do any extra processing on them before storing in its datastore). \n\nThe property I\u0027m trying to preserve is \"bot dimensions in TaskRunResult \u003d\u003d\u003d bot dimensions as seen by the task\". Passing dimensions from the server side is one way to do that.",
      "parentUuid": "2a2f8030_30c9ab85",
      "range": {
        "startLine": 244,
        "startChar": 4,
        "endLine": 244,
        "endChar": 40
      },
      "revId": "7fc59ccc5e823c5c238cb567973d9d9789b51d51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9d14eca_2aa0c2f5",
        "filename": "appengine/swarming/swarming_bot/bot_code/task_runner.py",
        "patchSetId": 1
      },
      "lineNbr": 244,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2022-10-03T20:10:21Z",
      "side": 1,
      "message": "Done (I think).",
      "parentUuid": "ed300f3b_aa14a03e",
      "range": {
        "startLine": 244,
        "startChar": 4,
        "endLine": 244,
        "endChar": 40
      },
      "revId": "7fc59ccc5e823c5c238cb567973d9d9789b51d51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}