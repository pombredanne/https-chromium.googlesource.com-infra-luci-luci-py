{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e60f2cc2_59a496eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2023-02-08T00:32:29Z",
      "side": 1,
      "message": "No I meant what\u0027s the point of having both swarming_bot_init.log and swarming_bot.log? The only difference between them is that swarming_bot_init.log is opened slightly earlier. Why not refactor the code to open swarming_bot.log earlier instead and don\u0027t bother with swarming_bot_init.log?",
      "revId": "ed383f13d7a7db0d2edc99621fbbf06cd2c81d0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84d92fe9_cdd247da",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1530772
      },
      "writtenOn": "2023-02-08T01:00:07Z",
      "side": 1,
      "message": "Swarming isn\u0027t always run with \u0027start_bot\u0027, there\u0027s other options such as \u0027start_slave\u0027, \u0027task_runner\u0027 etc. Sure, we could reuse \u0027swarming_bot.log\u0027 but I\u0027d like to reserve it for \u0027start_bot\u0027, every subcommand seems to use its own log file and I\u0027d like to be consistent.",
      "parentUuid": "e60f2cc2_59a496eb",
      "revId": "ed383f13d7a7db0d2edc99621fbbf06cd2c81d0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09af7868_4e8592af",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2023-02-08T01:11:24Z",
      "side": 1,
      "message": "Can you remind me what are you trying to capture in this log? It will be appended to not only when the bot starts, but also by every task it runs (twice, once when running executing CMDtask_runner, another when executing CMDrun_isolated: they are called for every task).",
      "parentUuid": "84d92fe9_cdd247da",
      "revId": "ed383f13d7a7db0d2edc99621fbbf06cd2c81d0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aee57e68_ea71c39f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1530772
      },
      "writtenOn": "2023-02-08T01:21:36Z",
      "side": 1,
      "message": "That\u0027s correct, but i want to see how far it gets on start-up. We are still having an issue with bot restarts on some of the win-diff and mac-diff builders and it\u0027s hard for me to determine the cause. It could be swarming or the OS, but hard to say. chrome-official bots are locked down and need special perms to SSH into (not impossible, but a pain), so that\u0027s why I want to plumb these logs to cloud logging.",
      "parentUuid": "09af7868_4e8592af",
      "revId": "ed383f13d7a7db0d2edc99621fbbf06cd2c81d0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0cd79d25_7cbdf8d6",
        "filename": "appengine/swarming/swarming_bot/__main__.py",
        "patchSetId": 6
      },
      "lineNbr": 257,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2023-02-08T01:40:25Z",
      "side": 1,
      "message": "there are some mistakes here",
      "range": {
        "startLine": 255,
        "startChar": 41,
        "endLine": 257,
        "endChar": 17
      },
      "revId": "ed383f13d7a7db0d2edc99621fbbf06cd2c81d0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8067901_832449f2",
        "filename": "client/utils/logging_utils.py",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2023-02-08T01:40:25Z",
      "side": 1,
      "message": "nit: this function does more than one thing, please refactor to:\n\n```\ndef new_rotating_file_handler(....):\n  ...\n  \n....\n\nif filename:\n  try:\n    logger.addHandler(new_rotating_file_handler(....))\n  except Exception:\n    ...\n```\n\n(especially considering another caller already catches exceptions anyway)",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 194,
        "endChar": 52
      },
      "revId": "ed383f13d7a7db0d2edc99621fbbf06cd2c81d0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}