{
  "comments": [
    {
      "key": {
        "uuid": "e7a1322b_02356238",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-08-18T06:24:34Z",
      "side": 1,
      "message": "Adding Andrii who may know about how long Swarming should keep bot events in DB.",
      "revId": "3aab5189f1155d1efda82451f7382158d5faaf44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2c136d1_d9b3e29b",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-08-18T06:24:34Z",
      "side": 1,
      "message": "Is there any policy about the retention?\nI may be confused with something else, though.",
      "range": {
        "startLine": 80,
        "startChar": 50,
        "endLine": 80,
        "endChar": 55
      },
      "revId": "3aab5189f1155d1efda82451f7382158d5faaf44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3790b344_09f53a1a",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-08-18T06:27:42Z",
      "side": 1,
      "message": "I think we have 540 days as hard limit e.g. https://crbug.com/1108100.\nBut not other than that.\n\nAnd at least, most of the bot events are kept in BigQuery now.",
      "parentUuid": "c2c136d1_d9b3e29b",
      "range": {
        "startLine": 80,
        "startChar": 50,
        "endLine": 80,
        "endChar": 55
      },
      "revId": "3aab5189f1155d1efda82451f7382158d5faaf44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed2eff0e_1399a793",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-08-18T06:36:51Z",
      "side": 1,
      "message": "Yeah, I saw that.\n\nI concern the *minimum* retention period that we promise to our users.\n\n\u003e And at least, most of the bot events are kept in BigQuery now.\nThere is an issue that some data isn\u0027t synced properly.\nhttps://crbug.com/1067599",
      "parentUuid": "3790b344_09f53a1a",
      "range": {
        "startLine": 80,
        "startChar": 50,
        "endLine": 80,
        "endChar": 55
      },
      "revId": "3aab5189f1155d1efda82451f7382158d5faaf44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bc8a041_af6e78bb",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-08-18T07:52:18Z",
      "side": 1,
      "message": "\u003e Yeah, I saw that.\n\u003e \n\u003e I concern the *minimum* retention period that we promise to our users.\n\u003e \n\nHmm, I think we don\u0027t have contract with our customers related to this.\nBut I\u0027m not sure what our customer expected. So if we need to take care this, maybe better to change configuration of alert instead of here.\n\n\u003e \u003e And at least, most of the bot events are kept in BigQuery now.\n\u003e There is an issue that some data isn\u0027t synced properly.\n\u003e https://crbug.com/1067599",
      "parentUuid": "ed2eff0e_1399a793",
      "range": {
        "startLine": 80,
        "startChar": 50,
        "endLine": 80,
        "endChar": 55
      },
      "revId": "3aab5189f1155d1efda82451f7382158d5faaf44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07f29282_f03dcf32",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-08-18T08:44:43Z",
      "side": 1,
      "message": "\u003e \u003e Yeah, I saw that.\n\u003e \u003e \n\u003e \u003e I concern the *minimum* retention period that we promise to our users.\n\u003e \u003e \n\u003e \n\u003e Hmm, I think we don\u0027t have contract with our customers related to this.\n\u003e But I\u0027m not sure what our customer expected. So if we need to take care this, maybe better to change configuration of alert instead of here.\n\u003e \n\ntandrii@ found https://source.chromium.org/chromium/infra/infra/+/master:luci/appengine/swarming/handlers_endpoints.py;l\u003d1036-1038;drc\u003d6ebba3fec4f41acadd5f92f80af1b7e485e63f01\n\nSo I will call bot delete api from cron job.\n\n\u003e \u003e \u003e And at least, most of the bot events are kept in BigQuery now.\n\u003e \u003e There is an issue that some data isn\u0027t synced properly.\n\u003e \u003e https://crbug.com/1067599",
      "parentUuid": "5bc8a041_af6e78bb",
      "range": {
        "startLine": 80,
        "startChar": 50,
        "endLine": 80,
        "endChar": 55
      },
      "revId": "3aab5189f1155d1efda82451f7382158d5faaf44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}