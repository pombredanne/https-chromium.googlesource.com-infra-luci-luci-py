{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a1635137_834bb03f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 8,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T02:14:11Z",
      "side": 1,
      "message": "I noticed that server/realms.py raise endpoints exceptions. (implemented by me...)\nhttps://source.chromium.org/chromium/infra/infra/+/main:luci/appengine/swarming/server/realms.py;l\u003d8?q\u003df:server%2Frealms.py\u0026ss\u003dchromium\n\nThose exceptions also need to be changed to api_handlers exceptions.",
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e492673_5d1113dd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 8,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "Thanks! I\u0027ve started a CL for this. Should be fine to merge this first since the endpoints handler is the only thing calling this right now, right?",
      "parentUuid": "a1635137_834bb03f",
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f80b202_876c1d47",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 8,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T05:15:41Z",
      "side": 1,
      "message": "Yes. better to separate CLs.",
      "parentUuid": "2e492673_5d1113dd",
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09bf4f88_ae5427ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T01:42:08Z",
      "side": 1,
      "message": "That\u0027s good refactoring. I think it can refactor future.",
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95103793_1dc08afa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T01:42:59Z",
      "side": 1,
      "message": "future -\u003e further ðŸ˜¢",
      "parentUuid": "09bf4f88_ae5427ae",
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d4ce983_77cc96a3",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 38,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T01:42:08Z",
      "side": 1,
      "message": "Does it make sense to move the logic to task_request.init_new_request()?",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 38,
        "endChar": 60
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9cdc2eb_23186cb2",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 38,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9d4ce983_77cc96a3",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 38,
        "endChar": 60
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4c491ac_bb932b6e",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 46,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T01:42:08Z",
      "side": 1,
      "message": "This also can be moved to init_new_request() if that makes sense.\napi_helpers.py can define only exceptions, and legacy handler and prpc handler will convert them differently.",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 46,
        "endChar": 0
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94db72c2_7c41d4bd",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 46,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "it seems the responsibilities of the `task_request.py` layer is to check validity of the value formats and overall TaskRequest structure. I\u0027m a little wary about moving an existence check and raising a Permission error (aka a non-{Type|Value|BadValue}Error) in task_request.py.",
      "parentUuid": "f4c491ac_bb932b6e",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 46,
        "endChar": 0
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a48e540f_84e7a153",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 46,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T05:15:41Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "94db72c2_7c41d4bd",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 46,
        "endChar": 0
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7cd711f_1173e19b",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T01:42:08Z",
      "side": 1,
      "message": "This logic, too. validation can be done inside init_new_request().",
      "range": {
        "startLine": 47,
        "startChar": 1,
        "endLine": 53,
        "endChar": 44
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0d20d0c_ef326f42",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "moved `_pre_put_hook` to init_new_request(), if that\u0027s what you mean.",
      "parentUuid": "d7cd711f_1173e19b",
      "range": {
        "startLine": 47,
        "startChar": 1,
        "endLine": 53,
        "endChar": 44
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f58885b_e2452dd6",
        "filename": "appengine/swarming/api_helpers.py",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T05:15:41Z",
      "side": 1,
      "message": "Thanks. That\u0027s what I meant.",
      "parentUuid": "e0d20d0c_ef326f42",
      "range": {
        "startLine": 47,
        "startChar": 1,
        "endLine": 53,
        "endChar": 44
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c1c6f5a_d9ff4d71",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 2,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-18T01:58:27Z",
      "side": 1,
      "message": "2021?",
      "range": {
        "startLine": 2,
        "startChar": 12,
        "endLine": 2,
        "endChar": 16
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a61b1504_5d95645c",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 2,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c1c6f5a_d9ff4d71",
      "range": {
        "startLine": 2,
        "startChar": 12,
        "endLine": 2,
        "endChar": 16
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a06ef036_b15b083a",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-18T01:58:27Z",
      "side": 1,
      "message": "sort?",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 9,
        "endChar": 15
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09a9abaa_301e8f15",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a06ef036_b15b083a",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 9,
        "endChar": 15
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffeaef6e_4667d16c",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-18T01:58:27Z",
      "side": 1,
      "message": "Better to merge these imports to above block?",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 27,
        "endChar": 31
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b1e2596a_5e7cc6fc",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ffeaef6e_4667d16c",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 27,
        "endChar": 31
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f332f0ce_9a418f90",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 152,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-08-18T01:58:27Z",
      "side": 1,
      "message": "make this member of the test class?",
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8702c468_a7e1f31a",
        "filename": "appengine/swarming/api_helpers_test.py",
        "patchSetId": 7
      },
      "lineNbr": 152,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f332f0ce_9a418f90",
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09fd7545_a578980f",
        "filename": "appengine/swarming/handlers_endpoints.py",
        "patchSetId": 7
      },
      "lineNbr": 517,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2021-08-18T01:42:08Z",
      "side": 1,
      "message": "This validation can be moved to api_handlers.process_task_request().",
      "range": {
        "startLine": 513,
        "startChar": 0,
        "endLine": 517,
        "endChar": 0
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "98b138ef_b05d53ac",
        "filename": "appengine/swarming/handlers_endpoints.py",
        "patchSetId": 7
      },
      "lineNbr": 517,
      "author": {
        "id": 1237795
      },
      "writtenOn": "2021-08-18T04:38:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09fd7545_a578980f",
      "range": {
        "startLine": 513,
        "startChar": 0,
        "endLine": 517,
        "endChar": 0
      },
      "revId": "2cfc255eb0ea2991e3dfef58978d0d6debb37b29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}